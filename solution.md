# Решение за X место
Прежде всего, мы очень рады быть частью такого глубокого и интересного конкурса, огромное спасибо организаторам за поддержку и всем конкурсантам, которые самоотверженно делились своими знаниями и инсайтами.

Большое спасибо моей замечательной команде QuData в лице @kerrit! Мы находимся и работаем в Украине, и хотим поблагодарить всех, кто сейчас поддерживает народ Украины!

## Описание решения

Полный код решения можно посмотреть на GitHub: https://github.com/BooCreator/Lux-AI-Season-2-Strategy-Library/tree/main/strategy

Решение представляет собой библиотеку из нескольких стратегий для различных стадий игры и действующих юнитов, а также некоторых всппомогательных функций.
Каждая стратегия - это набор правил, на основе которых строится поведение роботов и фабрик.

В основе решения лежит класс **DefaultStrategy** из файла basic.py. Он имеет набор обязательных методов для реализации полноценной стратегии игры, в частности:
* *getBid(...)* - выбор ставки
* *getSpawnPos(...)* - выбор позиции фабрики
* *getActions(...)* - определений действий для фабрик и роботов

Внутри класса **DefaultStrategy** может быть реализована полноценная стратегия.

Далее стратегия **DefaultStrategy** разбивается на две группы **Early** и **Game**.

### Early стратегии

Early стратегии - это стратегии фазы расстановки фабрик.

Всего было реализовано 6 стратегий, распологаемых в сответствующих файлах.
* *default* - Базовая стратегия библиотеки расстановки фабрик.
Для выбора позиции фабрики используется собственный алгоритм расчёта весов. Суть алгоритма сводится к тому, что выстраиваем вокруг точек ресурсов N рядов чисел. В случае пересечения веса складываются. После чего суммируем их и выбираем случайную позиции с максимальным весом.
Данная стратегия была рабочая, хоть и не очень эффективная.
* *from_kaggle_strategy* - Эта стратегия является расширением базовой стратегии и основана на использовании алгоритмов из ноутбука https://www.kaggle.com/code/istinetz/picking-a-good-starting-location. 
* *best_strategy* - Данная стратегия является расширением и улучшением базовой стратегии в части выбора позиции. В базовой стратегии позиция выбирается случайным убразом, что не всегда было эффективно. В BestStrategy, при выборе позиции, учитывается количество щебня вокруг позиции. Таким образом из нескольких позиций с максимальным весом всегда будет выбираться определённая - с минимальным количеством щебня вокруг.
* *new_from_kaggle* - Эта стратегия также использует алгоритмы из ноутбука https://www.kaggle.com/code/istinetz/picking-a-good-starting-location. Отличительной особенностью является то, что в качестве весов используется отношение общего количества ячеек к "плохим" (> 25) ячейкам.
* *next_generation* - 
* *single_strategy* - Стратегия для тестового обучения RL модели. Основанна на BestStrategy. Отличительной особенностью является то, что в стратегии выставляется только одна фабрика.

### Game стратегии

Game стратегии - это стратегии фазы игры.